<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC '-//ibatis.apache.org//DTD Sql Map 2.0//EN' 'http://ibatis.apache.org/dtd/sql-map-2.dtd'>

<sqlMap namespace="roomReservationSQL">
	<typeAlias alias="roomReservation" type="bean.RoomReservationBean" />

	<resultMap id="roomReservationRes" class="roomReservation">
		<result property="reservationNo" column="reservationNo" />
		<result property="no" column="no" />
		<result property="firstDate" column="firstDate" />
		<result property="lastDate" column="lastDate" />
		<result property="money" column="money" />
		<result property="memberID" column="memberID" />
		<result property="reservationCheck" column="reservationCheck" />
	</resultMap>
	
	<sql id="select-all">SELECT * FROM ROOM_RESERVATION</sql>
	
	<sql id="where-no">WHERE RESERVATIONNO = #ReservationNo#</sql>
	
	<insert id="insertRes" parameterClass="roomReservation">
		INSERT INTO ROOM_RESERVATION(RESERVATIONNO, NO, FIRSTDATE, LASTDATE,
		MONEY, MEMBERID) VALUES (ROOM_RESERVATION_NO_SEQ.NEXTVAL, #no#, #firstDate#,
		#lastDate#, #money#, #memberID#)
	</insert>
	
	<select id="reslist" resultMap="roomReservationRes" parameterClass="roomReservation">
		<include refid="select-all"/>
		where memberID = #memberID#
	</select>
</sqlMap>
